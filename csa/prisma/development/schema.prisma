datasource db {
  provider = "sqlite"
  // Usa o banco local SQLite ao rodar em desenvolvimento
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int        @id @default(autoincrement())
  public_id String     @default(uuid())
  name      String
  username  String     @unique
  age       Int
  email     String     @unique
  senha     String
  campanhas Campanha[]
  ong       Ong[]
}

model TokenRedefinicaoSenha {
  id        Int      @id @default(autoincrement())
  email     String
  token     String   @unique
  expiresAt DateTime
}

model Campanha {
  id         String   @id @unique @default(uuid())
  titulo     String
  descricao  String?
  nivelAjuda String
  cep        String
  cidade     String
  estado     String
  bairro     String
  rua        String
  numero     String
  foto       String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  endDate    DateTime

  usuarioId Int
  usuario   User @relation(fields: [usuarioId], references: [id])
}

model Ong {
  id          Int      @id @default(autoincrement())
  nome        String
  cnpj        String   @unique
  areaAtuacao String
  descricao   String
  cep         String
  contato     String
  siteOuRede  String
  logoUrl     String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  usuarioId Int
  usuario   User @relation(fields: [usuarioId], references: [id])
}
